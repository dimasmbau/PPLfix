-- phpMyAdmin SQL Dump
-- version 4.8.3
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Waktu pembuatan: 05 Des 2018 pada 20.39
-- Versi server: 10.1.36-MariaDB
-- Versi PHP: 7.1.22

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `sipad`
--

-- --------------------------------------------------------

--
-- Struktur dari tabel `detai_pemesanan`
--

CREATE TABLE `detai_pemesanan` (
  `id_detail` int(11) NOT NULL,
  `id_pemesanan` int(11) NOT NULL,
  `id_padi` int(11) NOT NULL,
  `jumlah` varchar(5) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `detai_pemesanan`
--

INSERT INTO `detai_pemesanan` (`id_detail`, `id_pemesanan`, `id_padi`, `jumlah`) VALUES
(30, 55, 27, '9'),
(31, 56, 29, '7'),
(32, 57, 28, '20');

-- --------------------------------------------------------

--
-- Struktur dari tabel `padi`
--

CREATE TABLE `padi` (
  `id_padi` int(11) NOT NULL,
  `jenis_padi` varchar(15) NOT NULL,
  `gambar` varchar(200) NOT NULL,
  `kualitas_padi` enum('sangat_baik','baik','sedang','') NOT NULL,
  `stok_kg` int(5) NOT NULL,
  `warna` enum('kuning','hijau','kuning_coklat','') NOT NULL,
  `harga` int(10) NOT NULL,
  `detail_padi` longtext NOT NULL,
  `tgl_masuk` date NOT NULL,
  `tgl_keluar` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `padi`
--

INSERT INTO `padi` (`id_padi`, `jenis_padi`, `gambar`, `kualitas_padi`, `stok_kg`, `warna`, `harga`, `detail_padi`, `tgl_masuk`, `tgl_keluar`) VALUES
(27, 'Selamat Padi', '031220181756031.jpg', 'sedang', 88, 'kuning', 20000, 'Padi ini dapat menyerahkan pagi anda', '2018-12-19', '0000-00-00'),
(28, 'Padi Mawut', '031220181758083.jpg', 'baik', 25, 'kuning', 10000, 'Padi pilihan', '2018-01-03', '0000-00-00'),
(29, 'Padi Ku', '031220181759084.jpg', 'sangat_baik', 13, 'kuning_coklat', 25000, 'Untuk kesehatan yang lebih baik', '2018-03-05', '0000-00-00'),
(30, 'Padi Cap Singa', '031220181800085.jpg', 'baik', 60, 'kuning', 12000, 'Padi Istimewa', '2018-05-16', '0000-00-00'),
(31, 'Padi SumberSari', '031220181801016.jpg', 'sangat_baik', 45, 'hijau', 15000, 'Padi yang di tanam di bukit tinggi', '2017-03-17', '0000-00-00'),
(32, 'Padi Kw', '031220181801447.jpg', 'sedang', 74, 'kuning', 7000, 'Harganya terjangkau ', '2018-05-10', '0000-00-00'),
(33, 'asd', '051220180525101972_Toyota_Corolla_JDM_Modified_Coupe_Rear_1.jpg', 'sedang', 0, 'kuning', 123, 'ads', '2018-01-01', '0000-00-00');

-- --------------------------------------------------------

--
-- Struktur dari tabel `pembayaran`
--

CREATE TABLE `pembayaran` (
  `id_pembayaran` int(20) NOT NULL,
  `id_pemesanan` int(20) NOT NULL,
  `nama` varchar(255) NOT NULL,
  `bank` varchar(255) NOT NULL,
  `jumlah` int(22) NOT NULL,
  `tanggal` date NOT NULL,
  `bukti` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `pembayaran`
--

INSERT INTO `pembayaran` (`id_pembayaran`, `id_pemesanan`, `nama`, `bank`, `jumlah`, `tanggal`, `bukti`) VALUES
(13, 55, 'Mas Rudi', 'Mandiri', 182000, '2018-12-05', '20181205191736bukti2.jpg'),
(14, 56, 'Mas Rudi', 'Mandiri', 183000, '2018-12-05', '20181205202534bukti2.jpg');

-- --------------------------------------------------------

--
-- Struktur dari tabel `pemesanan`
--

CREATE TABLE `pemesanan` (
  `id_pemesanan` int(11) NOT NULL,
  `id_user` int(11) NOT NULL,
  `id_pengiriman` int(11) NOT NULL,
  `tgl_pesan` date NOT NULL,
  `total_pemesanan` int(11) NOT NULL,
  `alamatkirim` text NOT NULL,
  `status_pembayaran` enum('lunas','belum lunas','pending','barang dikirim') NOT NULL,
  `resi_pengiriman` varchar(50) DEFAULT 'menunggu'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `pemesanan`
--

INSERT INTO `pemesanan` (`id_pemesanan`, `id_user`, `id_pengiriman`, `tgl_pesan`, `total_pemesanan`, `alamatkirim`, `status_pembayaran`, `resi_pengiriman`) VALUES
(55, 7, 1, '2018-12-05', 182000, 'jember', 'barang dikirim', 'a238asdf'),
(56, 7, 5, '2018-12-05', 183000, 'jember', 'barang dikirim', 'asdfjhjq0923j'),
(57, 4, 6, '2018-12-05', 209000, 'jember yang indah', 'belum lunas', 'menunggu');

-- --------------------------------------------------------

--
-- Struktur dari tabel `pengiriman`
--

CREATE TABLE `pengiriman` (
  `id_pengiriman` int(11) NOT NULL,
  `nama_kota` varchar(100) NOT NULL,
  `tarif` int(10) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `pengiriman`
--

INSERT INTO `pengiriman` (`id_pengiriman`, `nama_kota`, `tarif`) VALUES
(1, 'Jember', 2000),
(2, 'Bondowoso', 5000),
(3, 'Lumajang', 6000),
(4, 'Situbondo', 6000),
(5, 'Probolinggo', 8000),
(6, 'Malang', 9000);

-- --------------------------------------------------------

--
-- Struktur dari tabel `user`
--

CREATE TABLE `user` (
  `id_user` int(11) NOT NULL,
  `nama_depan` varchar(15) NOT NULL,
  `nama_belakang` varchar(15) NOT NULL,
  `email` varchar(30) NOT NULL,
  `alamat` varchar(30) NOT NULL,
  `no_ktp` varchar(16) NOT NULL,
  `password` varchar(20) NOT NULL,
  `level` enum('admin','pembeli') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data untuk tabel `user`
--

INSERT INTO `user` (`id_user`, `nama_depan`, `nama_belakang`, `email`, `alamat`, `no_ktp`, `password`, `level`) VALUES
(1, 'admin', 'admin', 'admin@gmail.com', 'jember', '12937991827', 'admin123', 'admin'),
(4, 'dhimas', 'maulana', 'dhimas@gmail.com', 'jember', '102938193734', 'dhimas123', 'pembeli'),
(5, 'sony', 'dua', 'sonyy@gmail.com', 'jember', '123076197', 'sonny', 'pembeli'),
(6, 'rudi', 'tabuti', 'rudi@gmail.com', 'jember', '1239019238', 'rudi', 'pembeli'),
(7, 'mas', 'adi', 'masadi@gmail', 'jember', '1983764987', 'mas', 'pembeli'),
(9, 'enggar', 'rudy', 'enggar@gmail.com', 'bondowoso', '12309380', 'enggar', 'pembeli');

--
-- Indexes for dumped tables
--

--
-- Indeks untuk tabel `detai_pemesanan`
--
ALTER TABLE `detai_pemesanan`
  ADD PRIMARY KEY (`id_detail`),
  ADD UNIQUE KEY `id_pemesanan_2` (`id_pemesanan`,`id_padi`),
  ADD UNIQUE KEY `id_pemesanan_4` (`id_pemesanan`,`id_padi`),
  ADD KEY `id_pemesanan` (`id_pemesanan`,`id_padi`),
  ADD KEY `id_pemesanan_3` (`id_pemesanan`,`id_padi`),
  ADD KEY `id_padi` (`id_padi`);

--
-- Indeks untuk tabel `padi`
--
ALTER TABLE `padi`
  ADD PRIMARY KEY (`id_padi`);

--
-- Indeks untuk tabel `pembayaran`
--
ALTER TABLE `pembayaran`
  ADD PRIMARY KEY (`id_pembayaran`);

--
-- Indeks untuk tabel `pemesanan`
--
ALTER TABLE `pemesanan`
  ADD PRIMARY KEY (`id_pemesanan`),
  ADD KEY `id_user` (`id_user`),
  ADD KEY `id_pengiriman` (`id_pengiriman`);

--
-- Indeks untuk tabel `pengiriman`
--
ALTER TABLE `pengiriman`
  ADD PRIMARY KEY (`id_pengiriman`);

--
-- Indeks untuk tabel `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id_user`);

--
-- AUTO_INCREMENT untuk tabel yang dibuang
--

--
-- AUTO_INCREMENT untuk tabel `detai_pemesanan`
--
ALTER TABLE `detai_pemesanan`
  MODIFY `id_detail` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=33;

--
-- AUTO_INCREMENT untuk tabel `padi`
--
ALTER TABLE `padi`
  MODIFY `id_padi` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT untuk tabel `pembayaran`
--
ALTER TABLE `pembayaran`
  MODIFY `id_pembayaran` int(20) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=15;

--
-- AUTO_INCREMENT untuk tabel `pemesanan`
--
ALTER TABLE `pemesanan`
  MODIFY `id_pemesanan` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=58;

--
-- AUTO_INCREMENT untuk tabel `pengiriman`
--
ALTER TABLE `pengiriman`
  MODIFY `id_pengiriman` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT untuk tabel `user`
--
ALTER TABLE `user`
  MODIFY `id_user` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=10;

--
-- Ketidakleluasaan untuk tabel pelimpahan (Dumped Tables)
--

--
-- Ketidakleluasaan untuk tabel `detai_pemesanan`
--
ALTER TABLE `detai_pemesanan`
  ADD CONSTRAINT `detai_pemesanan_ibfk_1` FOREIGN KEY (`id_pemesanan`) REFERENCES `pemesanan` (`id_pemesanan`),
  ADD CONSTRAINT `detai_pemesanan_ibfk_2` FOREIGN KEY (`id_padi`) REFERENCES `padi` (`id_padi`);

--
-- Ketidakleluasaan untuk tabel `pemesanan`
--
ALTER TABLE `pemesanan`
  ADD CONSTRAINT `pemesanan_ibfk_1` FOREIGN KEY (`id_user`) REFERENCES `user` (`id_user`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
